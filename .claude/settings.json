{
  "$schema": "https://docs.claude.com/schemas/settings.json",
  "permissions": {
    "bash": {
      "enabled": true,
      "allow_commands": [
        "git",
        "npm",
        "npx",
        "python",
        "pytest",
        "pip",
        "poetry",
        "black",
        "flake8",
        "mypy",
        "uvicorn",
        "alembic",
        "docker",
        "docker-compose"
      ],
      "deny_commands": ["rm -rf", "sudo", "shutdown", "reboot"]
    },
    "file_operations": {
      "enabled": true,
      "deny_patterns": [".env", ".env.*", "*.pem", "*.key", "credentials.json"]
    },
    "web_access": {
      "enabled": true,
      "allowed_domains": [
        "docs.python.org",
        "fastapi.tiangolo.com",
        "react.dev",
        "tailwindcss.com",
        "supabase.com",
        "developers.facebook.com",
        "ai.google.dev",
        "vitejs.dev",
        "vitest.dev",
        "testing-library.com",
        "docs.pytest.org",
        "pypi.org",
        "npmjs.com"
      ]
    }
  },
  "mcp_servers": {
    "context7": {
      "command": "npx",
      "args": ["-y", "@upressio/context7-mcp"],
      "env": {
        "CONTEXT7_API_KEY": "${CONTEXT7_API_KEY}"
      },
      "description": "Context7 MCP Server for library documentation"
    },
    "playwright": {
      "command": "npx",
      "args": ["-y", "@executeautomation/playwright-mcp-server"],
      "description": "Playwright MCP Server for E2E testing"
    },
    "render": {
      "command": "npx",
      "args": ["-y", "@render/mcp"],
      "env": {
        "RENDER_API_KEY": "${RENDER_API_KEY}"
      },
      "description": "Render deployment platform integration"
    }
  },
  "hooks": {
    "user-prompt-submit": {
      "enabled": true,
      "command": "python",
      "args": [
        "-c",
        "import sys; content = sys.stdin.read(); keywords = ['hack', 'exploit', 'crack', 'bypass security']; blocked = [k for k in keywords if k.lower() in content.lower()]; sys.exit(1) if blocked else sys.exit(0)"
      ],
      "description": "Block prompts with security-related keywords"
    },
    "pre-commit": {
      "enabled": true,
      "command": "bash",
      "args": [
        "-c",
        "if git diff --cached --name-only | grep -q '\\.py$'; then git diff --cached --name-only | grep '\\.py$' | xargs flake8 --max-line-length=88; fi"
      ],
      "description": "Run flake8 on Python files before commit"
    },
    "pre-test": {
      "enabled": true,
      "command": "bash",
      "args": [
        "-c",
        "echo 'ðŸ§ª Running tests...'"
      ],
      "description": "Pre-test notification"
    }
  },
  "agents": {
    "default_model": "sonnet",
    "max_parallel_agents": 6,
    "agent_timeout_ms": 300000,
    "enable_agent_memory": true
  },
  "project": {
    "name": "SocialLab",
    "description": "Instagram Content Planner with AI-powered caption generation and scheduling",
    "version": "1.0.0",
    "tech_stack": {
      "backend": "FastAPI + Python 3.11+",
      "frontend": "React 18 + TypeScript + Vite",
      "database": "Supabase PostgreSQL",
      "testing": "pytest + Vitest + Playwright"
    }
  },
  "conventions": {
    "commit_message_language": "es",
    "code_comment_language": "es",
    "documentation_language": "es",
    "line_length": 88,
    "python_formatter": "black",
    "python_linter": "flake8",
    "typescript_formatter": "prettier",
    "imports_style": "sorted"
  },
  "workflows": {
    "feature_development": {
      "steps": [
        "Run /explore-plan {feature_name}",
        "Review generated docs in .claude/doc/{feature_name}/",
        "Implement following the plans",
        "Run tests (pytest + vitest)",
        "Run /implement-feedback to validate",
        "Commit with incremental commits"
      ]
    },
    "bug_fixing": {
      "steps": [
        "Run /analyze_bug {issue_description}",
        "Review analysis",
        "Implement fix",
        "Add regression tests",
        "Validate with existing test suite",
        "Commit fix"
      ]
    }
  },
  "testing": {
    "backend": {
      "framework": "pytest",
      "coverage_target": 80,
      "run_command": "pytest tests/ -v --cov=. --cov-report=html"
    },
    "frontend": {
      "framework": "vitest",
      "coverage_target": 80,
      "run_command": "npm run test:coverage"
    },
    "e2e": {
      "framework": "playwright",
      "run_command": "npx playwright test"
    }
  }
}
